"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[284],{54812:function(ue,y,e){e.r(y),e.d(y,{default:function(){return k}});var Z=e(15009),P=e.n(Z),B=e(99289),D=e.n(B),I=e(97857),K=e.n(I),R=e(5574),i=e.n(R),E=e(51042),z=e(11774),O=e(97245),$=e(37476),G=e(31199),H=e(5966),L=e(1413),M=e(91),u=e(67294),W=e(19323),t=e(85893),V=["fieldProps","proFieldProps"],Y=function(o,c){var h=o.fieldProps,s=o.proFieldProps,m=(0,M.Z)(o,V);return(0,t.jsx)(W.Z,(0,L.Z)({ref:c,valueType:"textarea",fieldProps:h,proFieldProps:s},m))},J=u.forwardRef(Y),N=e(40741),Q=e(96074),U=e(86738),C=e(45360),X=e(15867),F=e(48457),b=function(){var o=(0,u.useState)(!1),c=i()(o,2),h=c[0],s=c[1],m=(0,u.useState)("\u65B0\u589E\u6388\u6743\u7801"),p=i()(m,2),q=p[0],A=p[1],_=N.Z.useForm(),ee=i()(_,1),f=ee[0],v=(0,u.useRef)(),te=(0,u.useState)(!1),T=i()(te,2),ae=T[0],S=T[1],re=[{title:"id",dataIndex:"id",search:!1},{title:"\u6388\u6743\u7801",dataIndex:"authKey"},{title:"\u63CF\u8FF0",dataIndex:"remark"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createdAt",search:!1},{title:"\u64CD\u4F5C",search:!1,render:function(n){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("a",{onClick:function(){A("\u7F16\u8F91\u6388\u6743\u7801"),s(!0);var r=K()({},n);f.setFieldsValue(r)},children:"\u7F16\u8F91"}),(0,t.jsx)(Q.Z,{type:"vertical"}),(0,t.jsx)(U.Z,{title:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",description:"\u5220\u9664\u540E\uFF0C\u6570\u636E\u5C06\u65E0\u6CD5\u6062\u590D\uFF0C\u8BF7\u614E\u91CD\uFF01",onConfirm:function(r){(0,F.dv)("/api/delAuthKey",{ids:[n.id]}).then(function(x){x.code===200&&(C.ZP.success(x.message),v.current.reload())})},children:(0,t.jsx)("a",{style:{color:"red"},children:"\u5220\u9664"})})]})}}],ne=function(){return[(0,t.jsx)(X.ZP,{type:"primary",icon:(0,t.jsx)(E.Z,{}),onClick:function(){f.resetFields(),A("\u65B0\u589E\u6388\u6743\u7801"),s(!0)},children:"\u6DFB\u52A0"},"add")]},se=function(){var l=D()(P()().mark(function n(a){var r;return P()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return r={data:[],success:!0,total:0},a.page=a.current||1,a.pageSize=a.pageSize||10,d.next=5,(0,F.P3)("/api/getAuthKeyList",a).then(function(g){r.success=g.code===200,r.data=g.data.list||[],r.data=r.data.map(function(j){return j.key=j.Id,j}),r.total=g.data.total||0});case 5:return d.abrupt("return",Promise.resolve(r));case 6:case"end":return d.stop()}},n)}));return function(a){return l.apply(this,arguments)}}();return(0,t.jsxs)(z._z,{style:{minHeight:window.innerHeight-150},children:[(0,t.jsx)(O.Z,{rowKey:"id",columns:re,search:{labelWidth:120},request:se,toolBarRender:ne,actionRef:v}),(0,t.jsxs)($.Y,{width:500,title:q,open:h,form:f,loading:ae,modalProps:{onCancel:function(){return s(!1)}},onFinish:function(n){S(!0),(0,F.dv)("/api/saveAuthKey",n).then(function(a){a.code===200&&(C.ZP.success(a.message),s(!1),f.resetFields(),v.current&&v.current.reload()),S(!1)})},children:[(0,t.jsx)(G.Z,{name:"id",hidden:!0}),(0,t.jsx)(H.Z,{name:"authKey",label:"\u6388\u6743\u7801",placeholder:"\u81EA\u52A8\u751F\u6210",disabled:!0}),(0,t.jsx)(J,{rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}],name:"remark",label:"\u63CF\u8FF0",placeholder:"\u8BF7\u8F93\u5165"})]})]})},k=b}}]);
