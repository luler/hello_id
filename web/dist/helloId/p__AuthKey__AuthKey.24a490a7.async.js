"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[284],{54812:function(se,P,e){e.r(P),e.d(P,{default:function(){return b}});var p=e(15009),j=e.n(p),I=e(99289),R=e.n(I),K=e(97857),B=e.n(K),D=e(5574),i=e.n(D),O=e(51042),z=e(11774),L=e(97245),$=e(37476),G=e(31199),H=e(5966),M=e(1413),W=e(91),l=e(67294),E=e(19323),t=e(85893),V=["fieldProps","proFieldProps"],Y=function(d,c){var m=d.fieldProps,s=d.proFieldProps,F=(0,W.Z)(d,V);return(0,t.jsx)(E.Z,(0,M.Z)({ref:c,valueType:"textarea",fieldProps:m,proFieldProps:s},F))},J=l.forwardRef(Y),N=e(40741),Q=e(96074),U=e(5914),y=e(45360),X=e(15867),h=e(48457),k=function(){var d=(0,l.useState)(!1),c=i()(d,2),m=c[0],s=c[1],F=(0,l.useState)("\u65B0\u589E\u6388\u6743\u7801"),T=i()(F,2),q=T[0],A=T[1],_=N.Z.useForm(),ee=i()(_,1),v=ee[0],f=(0,l.useRef)(),te=(0,l.useState)(!1),S=i()(te,2),ae=S[0],Z=S[1],ne=[{title:"ID",dataIndex:"Id",search:!1},{title:"\u6388\u6743\u7801",dataIndex:"AuthKey"},{title:"\u63CF\u8FF0",dataIndex:"Remark"},{title:"\u64CD\u4F5C",search:!1,render:function(r){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("a",{onClick:function(){A("\u7F16\u8F91\u6388\u6743\u7801"),s(!0);var n=B()({},r);v.setFieldsValue(n)},children:"\u7F16\u8F91"}),(0,t.jsx)(Q.Z,{type:"vertical"}),(0,t.jsx)("a",{style:{color:"red"},onClick:function(){U.Z.confirm({title:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",content:"\u5220\u9664\u540E\uFF0C\u6570\u636E\u5C06\u65E0\u6CD5\u6062\u590D\uFF0C\u8BF7\u614E\u91CD\uFF01",onOk:function(C){(0,h.dv)("/api/delAuthKey",{Ids:[r.Id]}).then(function(o){o.code===200&&(y.ZP.success(o.message),f.current.reload(),C())})}})},children:"\u5220\u9664"})]})}}],re=function(){return[(0,t.jsx)(X.ZP,{type:"primary",icon:(0,t.jsx)(O.Z,{}),onClick:function(){v.resetFields(),A("\u65B0\u589E\u6388\u6743\u7801"),s(!0)},children:"\u6DFB\u52A0"},"add")]},oe=function(){var u=R()(j()().mark(function r(a){var n;return j()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n={data:[],success:!0,total:0},a.Page=a.current||1,a.PageSize=a.pageSize||10,o.next=5,(0,h.P3)("/api/getAuthKeyList",a).then(function(g){n.success=g.code===200,n.data=g.data.List||[],n.data=n.data.map(function(x){return x.key=x.Id,x}),n.total=g.data.Total||0});case 5:return o.abrupt("return",Promise.resolve(n));case 6:case"end":return o.stop()}},r)}));return function(a){return u.apply(this,arguments)}}();return(0,t.jsxs)(z._z,{style:{minHeight:window.innerHeight-150},children:[(0,t.jsx)(L.Z,{columns:ne,search:{labelWidth:120},request:oe,toolBarRender:re,actionRef:f}),(0,t.jsxs)($.Y,{width:500,title:q,open:m,form:v,loading:ae,modalProps:{onCancel:function(){return s(!1)}},onFinish:function(r){Z(!0),(0,h.dv)("/api/saveAuthKey",r).then(function(a){a.code===200&&(y.ZP.success(a.message),s(!1),v.resetFields(),f.current&&f.current.reload()),Z(!1)})},children:[(0,t.jsx)(G.Z,{name:"Id",hidden:!0}),(0,t.jsx)(H.Z,{name:"AuthKey",label:"\u6388\u6743\u7801",placeholder:"\u81EA\u52A8\u751F\u6210",disabled:!0}),(0,t.jsx)(J,{rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}],name:"Remark",label:"\u63CF\u8FF0",placeholder:"\u8BF7\u8F93\u5165"})]})]})},b=k}}]);
