"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[284],{54812:function(se,j,e){e.r(j),e.d(j,{default:function(){return k}});var Z=e(15009),y=e.n(Z),I=e(99289),R=e.n(I),D=e(97857),B=e.n(D),E=e(5574),i=e.n(E),K=e(51042),z=e(11774),L=e(97245),O=e(37476),$=e(31199),G=e(5966),H=e(1413),M=e(91),s=e(67294),W=e(19323),t=e(85893),V=["fieldProps","proFieldProps"],Y=function(o,f){var h=o.fieldProps,u=o.proFieldProps,m=(0,M.Z)(o,V);return(0,t.jsx)(W.Z,(0,H.Z)({ref:f,valueType:"textarea",fieldProps:h,proFieldProps:u},m))},J=s.forwardRef(Y),N=e(40741),Q=e(96074),U=e(86738),C=e(45360),X=e(15867),F=e(48457),b=function(){var o=(0,s.useState)(!1),f=i()(o,2),h=f[0],u=f[1],m=(0,s.useState)("\u65B0\u589E\u6388\u6743\u7801"),A=i()(m,2),q=A[0],T=A[1],_=N.Z.useForm(),ee=i()(_,1),v=ee[0],c=(0,s.useRef)(),te=(0,s.useState)(!1),p=i()(te,2),ae=p[0],S=p[1],ne=[{title:"ID",dataIndex:"Id",search:!1},{title:"\u6388\u6743\u7801",dataIndex:"AuthKey"},{title:"\u63CF\u8FF0",dataIndex:"Remark"},{title:"\u64CD\u4F5C",search:!1,render:function(r){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("a",{onClick:function(){T("\u7F16\u8F91\u6388\u6743\u7801"),u(!0);var n=B()({},r);v.setFieldsValue(n)},children:"\u7F16\u8F91"}),(0,t.jsx)(Q.Z,{type:"vertical"}),(0,t.jsx)(U.Z,{title:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",description:"\u5220\u9664\u540E\uFF0C\u6570\u636E\u5C06\u65E0\u6CD5\u6062\u590D\uFF0C\u8BF7\u614E\u91CD\uFF01",onConfirm:function(n){(0,F.dv)("/api/delAuthKey",{Ids:[r.Id]}).then(function(x){x.code===200&&(C.ZP.success(x.message),c.current.reload())})},children:(0,t.jsx)("a",{style:{color:"red"},children:"\u5220\u9664"})})]})}}],re=function(){return[(0,t.jsx)(X.ZP,{type:"primary",icon:(0,t.jsx)(K.Z,{}),onClick:function(){v.resetFields(),T("\u65B0\u589E\u6388\u6743\u7801"),u(!0)},children:"\u6DFB\u52A0"},"add")]},ue=function(){var l=R()(y()().mark(function r(a){var n;return y()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return n={data:[],success:!0,total:0},a.Page=a.current||1,a.PageSize=a.pageSize||10,d.next=5,(0,F.P3)("/api/getAuthKeyList",a).then(function(g){n.success=g.code===200,n.data=g.data.List||[],n.data=n.data.map(function(P){return P.key=P.Id,P}),n.total=g.data.Total||0});case 5:return d.abrupt("return",Promise.resolve(n));case 6:case"end":return d.stop()}},r)}));return function(a){return l.apply(this,arguments)}}();return(0,t.jsxs)(z._z,{style:{minHeight:window.innerHeight-150},children:[(0,t.jsx)(L.Z,{columns:ne,search:{labelWidth:120},request:ue,toolBarRender:re,actionRef:c}),(0,t.jsxs)(O.Y,{width:500,title:q,open:h,form:v,loading:ae,modalProps:{onCancel:function(){return u(!1)}},onFinish:function(r){S(!0),(0,F.dv)("/api/saveAuthKey",r).then(function(a){a.code===200&&(C.ZP.success(a.message),u(!1),v.resetFields(),c.current&&c.current.reload()),S(!1)})},children:[(0,t.jsx)($.Z,{name:"Id",hidden:!0}),(0,t.jsx)(G.Z,{name:"AuthKey",label:"\u6388\u6743\u7801",placeholder:"\u81EA\u52A8\u751F\u6210",disabled:!0}),(0,t.jsx)(J,{rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}],name:"Remark",label:"\u63CF\u8FF0",placeholder:"\u8BF7\u8F93\u5165"})]})]})},k=b}}]);
