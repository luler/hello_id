"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[284],{54812:function(_,x,e){e.r(x),e.d(x,{default:function(){return N}});var A=e(15009),P=e.n(A),p=e(99289),C=e.n(p),I=e(97857),S=e.n(I),Z=e(5574),v=e.n(Z),R=e(51042),B=e(11774),D=e(97245),K=e(37476),L=e(31199),z=e(5966),O=e(1413),V=e(91),i=e(67294),$=e(19323),t=e(85893),G=["fieldProps","proFieldProps"],H=function(l,f){var c=l.fieldProps,s=l.proFieldProps,h=(0,V.Z)(l,G);return(0,t.jsx)($.Z,(0,O.Z)({ref:f,valueType:"textarea",fieldProps:c,proFieldProps:s},h))},W=i.forwardRef(H),E=e(1414),M=e(15867),Y=e(45360),j=e(48457),J=function(){var l=(0,i.useState)(!1),f=v()(l,2),c=f[0],s=f[1],h=E.Z.useForm(),U=v()(h,1),o=U[0],F=(0,i.useRef)(),X=(0,i.useState)(!1),y=v()(X,2),b=y[0],T=y[1],k=[{title:"ID",dataIndex:"Id",search:!1},{title:"\u6388\u6743\u7801",dataIndex:"AuthKey"},{title:"\u63CF\u8FF0",dataIndex:"Remark"},{title:"\u64CD\u4F5C",search:!1,render:function(n){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("a",{onClick:function(){s(!0);var r=S()({},n);o.setFieldsValue(r)},children:"\u7F16\u8F91"})})}}],w=function(){return[(0,t.jsx)(M.ZP,{type:"primary",icon:(0,t.jsx)(R.Z,{}),onClick:function(){o.resetFields(),o.setFieldsValue({CurrentId:0,FixedLength:0}),s(!0)},children:"\u6DFB\u52A0"},"add")]},q=function(){var d=C()(P()().mark(function n(a){var r;return P()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return r={data:[],success:!0,total:0},a.Page=a.current||1,a.PageSize=a.pageSize||10,u.next=5,(0,j.P3)("/api/getAuthKeyList",a).then(function(m){r.success=m.code===200,r.data=m.data.List||[],r.data=r.data.map(function(g){return g.key=g.Id,g}),r.total=m.data.Total||0});case 5:return u.abrupt("return",Promise.resolve(r));case 6:case"end":return u.stop()}},n)}));return function(a){return d.apply(this,arguments)}}();return(0,t.jsxs)(B._z,{style:{minHeight:window.innerHeight-150},children:[(0,t.jsx)(D.Z,{columns:k,search:{labelWidth:120},request:q,toolBarRender:w,actionRef:F}),(0,t.jsxs)(K.Y,{width:500,title:o.getFieldValue("Id")>0?"\u7F16\u8F91\u6388\u6743\u7801":"\u65B0\u589E\u6388\u6743\u7801",open:c,form:o,loading:b,modalProps:{onCancel:function(){return s(!1)}},onFinish:function(n){T(!0),(0,j.dv)("/api/saveAuthKey",n).then(function(a){a.code===200&&(Y.ZP.success(a.message),s(!1),o.resetFields(),F.current&&F.current.reload()),T(!1)})},children:[(0,t.jsx)(L.Z,{name:"Id",hidden:!0}),(0,t.jsx)(z.Z,{name:"AuthKey",label:"\u6388\u6743\u7801",placeholder:"\u81EA\u52A8\u751F\u6210",disabled:!0}),(0,t.jsx)(W,{rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}],name:"Remark",label:"\u63CF\u8FF0",placeholder:"\u8BF7\u8F93\u5165"})]})]})},N=J}}]);
