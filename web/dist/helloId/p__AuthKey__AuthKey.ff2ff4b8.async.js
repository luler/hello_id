"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[284],{54812:function(re,x,e){e.r(x),e.d(x,{default:function(){return U}});var p=e(15009),P=e.n(p),C=e(99289),Z=e.n(C),I=e(97857),R=e.n(I),B=e(5574),i=e.n(B),D=e(51042),K=e(11774),z=e(97245),L=e(37476),O=e(31199),$=e(5966),G=e(1413),H=e(91),o=e(67294),M=e(19323),t=e(85893),W=["fieldProps","proFieldProps"],E=function(l,v){var c=l.fieldProps,s=l.proFieldProps,h=(0,H.Z)(l,W);return(0,t.jsx)(M.Z,(0,G.Z)({ref:v,valueType:"textarea",fieldProps:c,proFieldProps:s},h))},V=o.forwardRef(E),Y=e(40741),J=e(15867),N=e(45360),j=e(48457),Q=function(){var l=(0,o.useState)(!1),v=i()(l,2),c=v[0],s=v[1],h=(0,o.useState)("\u65B0\u589E\u6388\u6743\u7801"),T=i()(h,2),b=T[0],y=T[1],k=Y.Z.useForm(),w=i()(k,1),f=w[0],m=(0,o.useRef)(),q=(0,o.useState)(!1),S=i()(q,2),_=S[0],A=S[1],ee=[{title:"ID",dataIndex:"Id",search:!1},{title:"\u6388\u6743\u7801",dataIndex:"AuthKey"},{title:"\u63CF\u8FF0",dataIndex:"Remark"},{title:"\u64CD\u4F5C",search:!1,render:function(n){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("a",{onClick:function(){y("\u7F16\u8F91\u6388\u6743\u7801"),s(!0);var r=R()({},n);f.setFieldsValue(r)},children:"\u7F16\u8F91"})})}}],te=function(){return[(0,t.jsx)(J.ZP,{type:"primary",icon:(0,t.jsx)(D.Z,{}),onClick:function(){f.resetFields(),y("\u65B0\u589E\u6388\u6743\u7801"),s(!0)},children:"\u6DFB\u52A0"},"add")]},ae=function(){var u=Z()(P()().mark(function n(a){var r;return P()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return r={data:[],success:!0,total:0},a.Page=a.current||1,a.PageSize=a.pageSize||10,d.next=5,(0,j.P3)("/api/getAuthKeyList",a).then(function(F){r.success=F.code===200,r.data=F.data.List||[],r.data=r.data.map(function(g){return g.key=g.Id,g}),r.total=F.data.Total||0});case 5:return d.abrupt("return",Promise.resolve(r));case 6:case"end":return d.stop()}},n)}));return function(a){return u.apply(this,arguments)}}();return(0,t.jsxs)(K._z,{style:{minHeight:window.innerHeight-150},children:[(0,t.jsx)(z.Z,{columns:ee,search:{labelWidth:120},request:ae,toolBarRender:te,actionRef:m}),(0,t.jsxs)(L.Y,{width:500,title:b,open:c,form:f,loading:_,modalProps:{onCancel:function(){return s(!1)}},onFinish:function(n){A(!0),(0,j.dv)("/api/saveAuthKey",n).then(function(a){a.code===200&&(N.ZP.success(a.message),s(!1),f.resetFields(),m.current&&m.current.reload()),A(!1)})},children:[(0,t.jsx)(O.Z,{name:"Id",hidden:!0}),(0,t.jsx)($.Z,{name:"AuthKey",label:"\u6388\u6743\u7801",placeholder:"\u81EA\u52A8\u751F\u6210",disabled:!0}),(0,t.jsx)(V,{rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}],name:"Remark",label:"\u63CF\u8FF0",placeholder:"\u8BF7\u8F93\u5165"})]})]})},U=Q}}]);
